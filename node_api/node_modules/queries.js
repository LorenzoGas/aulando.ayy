var listaAule = "SELECT a.nome, a.codice FROM Aula a, Dipartimento d WHERE d.codice = ?";
var listaDipartimenti = "SELECT * FROM Dipartimento";
var listaDocenti = "SELECT * FROM Docente a, Dipartimento d WHERE d.codice = ?";
var listaMaterie = "SELECT * FROM Materia m, Dipartimento d WHERE d.codice = ?";
var listaCorsi = "SELECT * FROM Corso c, Dipartimento d WHERE d.codice = ?";
var listaSubcorsi = "SELECT * FROM Subcorso s, Corso c WHERE c.codice = ?";

var auleLibere = "SELECT a.nome, MIN(l.inizio)as minimo FROM Aula a JOIN Dipartimento d ON a.dipartimento = d.id AND d.id = ? LEFT JOIN AulaLezione al ON al.aula = a.id LEFT JOIN Lezione l ON al.lezione = l.id AND l.giorno = ? AND l.inizio > ? WHERE a.id NOT IN( SELECT a.id FROM	Aula a JOIN 	AulaLezione al ON a.id = al.aula JOIN Lezione l ON l.id = al.lezione WHERE	l.giorno = ? AND l.inizio <= ? AND l.fine > ?) GROUP BY a.nome ORDER BY IFNULL(MIN(l.inizio),'24:00') DESC";
var auleLibereDalleAlle = "SELECT nome FROM Aula WHERE dipartimento = ? AND id NOT IN (SELECT a.id FROM Aula a JOIN AulaLezione al ON a.id = al.aula JOIN Lezione l ON l.id = al.lezione AND l.giorno = ? AND ((l.fine <= ? AND l.fine > ?) OR (l.inizio >= ? AND l.inizio < ?)) GROUP BY a.nome)";
var orariAula = "SELECT d.cognomenome, m.nome, l.inizio, l.fine FROM Aula a JOIN Dipartimento di ON a.dipartimento = di.id AND di.id = ? JOIN AulaLezione al ON a.id = al.aula JOIN Lezione l ON al.lezione = l.id JOIN Materia m ON l.materia = m.id JOIN Docente d ON l.docente = d.id WHERE a.nome = ? AND l.giorno = ? ORDER BY l.inizio";

exports.listaAule = listaAule;
exports.listaDipartimenti = listaDipartimenti;
exports.listaMaterie = listaMaterie;
exports.listaDocenti = listaDocenti;
exports.listaCorsi = listaCorsi;
exports.listaSubcorsi = listaSubcorsi;

exports.auleLibere = auleLibere;
exports.auleLibereDalleAlle = auleLibereDalleAlle;
exports.orariAula = orariAula;